   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 18, 4
  12              		.thumb
  13              		.file	"usb_int.c"
  23              	.Ltext0:
 16563              		.align	1
 16564              		.global	CTR_LP
 16565              		.thumb
 16566              		.thumb_func
 16568              	CTR_LP:
 16569              	.LFB29:
   1:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /******************** (C) COPYRIGHT 2010 STMicroelectronics ********************
   2:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * File Name          : usb_int.c
   3:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Author             : MCD Application Team
   4:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Version            : V3.2.1
   5:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Date               : 07/05/2010
   6:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Description        : Endpoint CTR (Low and High) interrupt's service routines
   7:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** ********************************************************************************
   8:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
   9:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE TIME.
  10:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY DIRECT,
  11:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING FROM THE
  12:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE CODING
  13:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  14:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** *******************************************************************************/
  15:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** #ifndef STM32F10X_CL
  16:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  17:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Includes ------------------------------------------------------------------*/
  18:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** #include "usb_lib.h"
  19:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  20:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Private typedef -----------------------------------------------------------*/
  21:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Private define ------------------------------------------------------------*/
  22:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Private macro -------------------------------------------------------------*/
  23:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Private variables ---------------------------------------------------------*/
  24:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** __IO uint16_t SaveRState;
  25:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** __IO uint16_t SaveTState;
  26:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  27:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Extern variables ----------------------------------------------------------*/
  28:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** extern void (*pEpInt_IN[7])(void);    /*  Handles IN  interrupts   */
  29:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** extern void (*pEpInt_OUT[7])(void);   /*  Handles OUT interrupts   */
  30:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  31:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Private function prototypes -----------------------------------------------*/
  32:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /* Private functions ---------------------------------------------------------*/
  33:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  34:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /*******************************************************************************
  35:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Function Name  : CTR_LP.
  36:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Description    : Low priority Endpoint Correct Transfer interrupt's service
  37:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** *                  routine.
  38:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Input          : None.
  39:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Output         : None.
  40:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Return         : None.
  41:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** *******************************************************************************/
  42:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** void CTR_LP(void)
  43:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** {
 16570              		.loc 1 43 0
 16571              		.cfi_startproc
 16572              		@ args = 0, pretend = 0, frame = 8
 16573              		@ frame_needed = 0, uses_anonymous_args = 0
 16574 0000 2DE9F341 		push	{r0, r1, r4, r5, r6, r7, r8, lr}
 16575              	.LCFI0:
 16576              		.cfi_def_cfa_offset 32
 16577              		.cfi_offset 14, -4
 16578              		.cfi_offset 8, -8
 16579              		.cfi_offset 7, -12
 16580              		.cfi_offset 6, -16
 16581              		.cfi_offset 5, -20
 16582              		.cfi_offset 4, -24
 16583              		.cfi_offset 1, -28
 16584              		.cfi_offset 0, -32
  44:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   __IO uint16_t wEPVal = 0;
 16585              		.loc 1 44 0
 16586 0004 0023     		movs	r3, #0
 16587 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
 16588              	.LVL0:
  45:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   /* stay in loop while pending ints */
  46:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   while (((wIstr = _GetISTR()) & ISTR_CTR) != 0)
 16589              		.loc 1 46 0
 16590 000a DFF8A881 		ldr	r8, .L38+44
 16591 000e 5E4E     		ldr	r6, .L38
  47:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   {
  48:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     /* extract highest priority endpoint number */
  49:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     EPindex = (uint8_t)(wIstr & ISTR_EP_ID);
 16592              		.loc 1 49 0
 16593 0010 5E4F     		ldr	r7, .L38+4
  46:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   while (((wIstr = _GetISTR()) & ISTR_CTR) != 0)
 16594              		.loc 1 46 0
 16595 0012 AFE0     		b	.L24
 16596              	.L21:
 16597              		.loc 1 49 0
 16598 0014 3088     		ldrh	r0, [r6, #0]
 16599 0016 00F00F03 		and	r3, r0, #15
 16600              	.LVL1:
 16601 001a 3B70     		strb	r3, [r7, #0]
  50:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     if (EPindex == 0)
 16602              		.loc 1 50 0
 16603 001c 002B     		cmp	r3, #0
 16604 001e 76D1     		bne	.L3
  51:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     {
  52:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* Decode and service control endpoint interrupt */
  53:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* calling related service routine */
  54:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* (Setup0_Process, In0_Process, Out0_Process) */
  55:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  56:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* save RX & TX status */
  57:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* and set both to NAK */
  58:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  59:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  60:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 	    SaveRState = _GetENDPOINT(ENDP0);
 16605              		.loc 1 60 0
 16606 0020 5B4C     		ldr	r4, .L38+8
  61:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 	    SaveTState = SaveRState & EPTX_STAT;
 16607              		.loc 1 61 0
 16608 0022 5C4A     		ldr	r2, .L38+12
  60:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 	    SaveRState = _GetENDPOINT(ENDP0);
 16609              		.loc 1 60 0
 16610 0024 2568     		ldr	r5, [r4, #0]
 16611 0026 ABB2     		uxth	r3, r5
 16612              	.LVL2:
 16613 0028 5B4D     		ldr	r5, .L38+16
 16614 002a 2B80     		strh	r3, [r5, #0]	@ movhi
 16615              		.loc 1 61 0
 16616 002c B5F800C0 		ldrh	ip, [r5, #0]
 16617 0030 0CF03001 		and	r1, ip, #48
 16618 0034 1180     		strh	r1, [r2, #0]	@ movhi
  62:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 	    SaveRState &=  EPRX_STAT;	
 16619              		.loc 1 62 0
 16620 0036 2888     		ldrh	r0, [r5, #0]
 16621              	.LBB2:
  63:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  64:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 	    _SetEPRxTxStatus(ENDP0,EP_RX_NAK,EP_TX_NAK);
 16622              		.loc 1 64 0
 16623 0038 4BF6BF7C 		movw	ip, #49087
 16624              	.LBE2:
  62:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 	    SaveRState &=  EPRX_STAT;	
 16625              		.loc 1 62 0
 16626 003c 00F44053 		and	r3, r0, #12288
 16627 0040 2B80     		strh	r3, [r5, #0]	@ movhi
 16628              	.LBB3:
 16629              		.loc 1 64 0
 16630 0042 2268     		ldr	r2, [r4, #0]
 16631 0044 02EA0C01 		and	r1, r2, ip
 16632              	.LVL3:
 16633 0048 81F40050 		eor	r0, r1, #8192
 16634 004c 80F02003 		eor	r3, r0, #32
 16635 0050 43F4004C 		orr	ip, r3, #32768
 16636 0054 4CF08002 		orr	r2, ip, #128
 16637 0058 2260     		str	r2, [r4, #0]
 16638              	.LBE3:
  65:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  66:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* DIR bit = origin of the interrupt */
  67:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  68:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       if ((wIstr & ISTR_DIR) == 0)
 16639              		.loc 1 68 0
 16640 005a 3188     		ldrh	r1, [r6, #0]
 16641              	.LVL4:
 16642 005c C806     		lsls	r0, r1, #27
 16643              	.LVL5:
 16644 005e 07D4     		bmi	.L4
  69:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       {
  70:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* DIR = 0 */
  71:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  72:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* DIR = 0      => IN  int */
  73:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* DIR = 0 implies that (EP_CTR_TX = 1) always  */
  74:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  75:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  76:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         _ClearEP_CTR_TX(ENDP0);
 16645              		.loc 1 76 0
 16646 0060 2168     		ldr	r1, [r4, #0]
 16647 0062 48F60F7E 		movw	lr, #36623
 16648 0066 01EA0E00 		and	r0, r1, lr
 16649 006a 2060     		str	r0, [r4, #0]
  77:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         In0_Process();
 16650              		.loc 1 77 0
 16651 006c 4B4B     		ldr	r3, .L38+20
 16652              	.LVL6:
 16653 006e 1DE0     		b	.L36
 16654              	.LVL7:
 16655              	.L4:
  78:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  79:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****            /* before terminate set Tx & Rx status */
  80:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  81:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****             _SetEPRxTxStatus(ENDP0,SaveRState,SaveTState);
  82:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 		  return;
  83:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       }
  84:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       else
  85:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       {
  86:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* DIR = 1 */
  87:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  88:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* DIR = 1 & CTR_RX       => SETUP or OUT int */
  89:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* DIR = 1 & (CTR_TX | CTR_RX) => 2 int pending */
  90:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  91:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         wEPVal = _GetENDPOINT(ENDP0);
 16656              		.loc 1 91 0
 16657 0070 2368     		ldr	r3, [r4, #0]
 16658              	.LVL8:
 16659 0072 1FFA83FC 		uxth	ip, r3
 16660              	.LVL9:
 16661 0076 ADF806C0 		strh	ip, [sp, #6]	@ movhi
  92:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         
  93:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         if ((wEPVal &EP_SETUP) != 0)
 16662              		.loc 1 93 0
 16663 007a BDF80620 		ldrh	r2, [sp, #6]
 16664 007e 1105     		lsls	r1, r2, #20
 16665 0080 07D5     		bpl	.L10
  94:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         {
  95:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           _ClearEP_CTR_RX(ENDP0); /* SETUP bit kept frozen while CTR_RX = 1 */
 16666              		.loc 1 95 0
 16667 0082 2168     		ldr	r1, [r4, #0]
 16668 0084 40F68F7E 		movw	lr, #3983
 16669 0088 01EA0E00 		and	r0, r1, lr
 16670 008c 2060     		str	r0, [r4, #0]
  96:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           Setup0_Process();
 16671              		.loc 1 96 0
 16672 008e 444B     		ldr	r3, .L38+24
 16673 0090 0CE0     		b	.L36
 16674              	.L10:
  97:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           /* before terminate set Tx & Rx status */
  98:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
  99:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 		      _SetEPRxTxStatus(ENDP0,SaveRState,SaveTState);
 100:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           return;
 101:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         }
 102:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 103:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         else if ((wEPVal & EP_CTR_RX) != 0)
 16675              		.loc 1 103 0
 16676 0092 BDF806C0 		ldrh	ip, [sp, #6]
 16677              	.LVL10:
 16678 0096 0FFA8CF2 		sxth	r2, ip
 16679 009a 002A     		cmp	r2, #0
 16680 009c 6ADA     		bge	.L24
 104:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         {
 105:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           _ClearEP_CTR_RX(ENDP0);
 16681              		.loc 1 105 0
 16682 009e 2168     		ldr	r1, [r4, #0]
 16683 00a0 40F68F70 		movw	r0, #3983
 16684 00a4 01EA0003 		and	r3, r1, r0
 16685 00a8 2360     		str	r3, [r4, #0]
 106:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           Out0_Process();
 16686              		.loc 1 106 0
 16687 00aa 3E4B     		ldr	r3, .L38+28
 16688              	.L36:
 16689 00ac 9847     		blx	r3
 16690              	.LBB4:
 107:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           /* before terminate set Tx & Rx status */
 108:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****      
 109:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 		     _SetEPRxTxStatus(ENDP0,SaveRState,SaveTState);
 16691              		.loc 1 109 0
 16692 00ae 2168     		ldr	r1, [r4, #0]
 16693 00b0 2888     		ldrh	r0, [r5, #0]
 16694 00b2 4BF6BF73 		movw	r3, #49087
 16695 00b6 00F4805C 		and	ip, r0, #4096
 16696 00ba 1FFA8CF2 		uxth	r2, ip
 16697 00be 01EA0303 		and	r3, r1, r3
 16698              	.LVL11:
 16699 00c2 0AB1     		cbz	r2, .L16
 16700              		.loc 1 109 0 is_stmt 0 discriminator 1
 16701 00c4 83F48053 		eor	r3, r3, #4096
 16702              	.LVL12:
 16703              	.L16:
 16704              		.loc 1 109 0 discriminator 2
 16705 00c8 3348     		ldr	r0, .L38+16
 16706 00ca B0F800C0 		ldrh	ip, [r0, #0]
 16707 00ce 0CF4005E 		and	lr, ip, #8192
 16708 00d2 1FFA8EF2 		uxth	r2, lr
 16709 00d6 0AB1     		cbz	r2, .L17
 16710              		.loc 1 109 0 discriminator 3
 16711 00d8 83F40053 		eor	r3, r3, #8192
 16712              	.LVL13:
 16713              	.L17:
 16714              		.loc 1 109 0 discriminator 4
 16715 00dc 2D4A     		ldr	r2, .L38+12
 16716 00de B2F800C0 		ldrh	ip, [r2, #0]
 16717 00e2 0CF0100E 		and	lr, ip, #16
 16718 00e6 1FFA8EF1 		uxth	r1, lr
 16719 00ea 09B1     		cbz	r1, .L18
 16720              		.loc 1 109 0 discriminator 5
 16721 00ec 83F01003 		eor	r3, r3, #16
 16722              	.LVL14:
 16723              	.L18:
 16724              		.loc 1 109 0 discriminator 6
 16725 00f0 1188     		ldrh	r1, [r2, #0]
 16726 00f2 01F02000 		and	r0, r1, #32
 16727 00f6 82B2     		uxth	r2, r0
 16728 00f8 0AB1     		cbz	r2, .L19
 16729              		.loc 1 109 0 discriminator 7
 16730 00fa 83F02003 		eor	r3, r3, #32
 16731              	.LVL15:
 16732              	.L19:
 16733              		.loc 1 109 0 discriminator 8
 16734 00fe 2A48     		ldr	r0, .L38+32
 16735 0100 43EA000E 		orr	lr, r3, r0
 16736 0104 224B     		ldr	r3, .L38+8
 16737              	.LVL16:
 16738 0106 1FFA8EF2 		uxth	r2, lr
 16739 010a 1A60     		str	r2, [r3, #0]
 16740              	.LBE4:
 110:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****           return;
 16741              		.loc 1 110 0 is_stmt 1 discriminator 8
 16742 010c 39E0     		b	.L1
 16743              	.LVL17:
 16744              	.L3:
 111:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         }
 112:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       }
 113:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     }/* if(EPindex == 0) */
 114:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     else
 115:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     {
 116:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* Decode and service non control endpoints interrupt  */
 117:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 118:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* process related endpoint register */
 119:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       wEPVal = _GetENDPOINT(EPindex);
 16745              		.loc 1 119 0
 16746 010e 9800     		lsls	r0, r3, #2
 16747 0110 00F18042 		add	r2, r0, #1073741824
 16748 0114 02F5B842 		add	r2, r2, #23552
 16749 0118 1168     		ldr	r1, [r2, #0]
 16750 011a 88B2     		uxth	r0, r1
 16751              	.LVL18:
 16752 011c ADF80600 		strh	r0, [sp, #6]	@ movhi
 120:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       if ((wEPVal & EP_CTR_RX) != 0)
 16753              		.loc 1 120 0
 16754 0120 BDF80610 		ldrh	r1, [sp, #6]
 16755 0124 0FFA81FC 		sxth	ip, r1
 16756 0128 BCF1000F 		cmp	ip, #0
 16757 012c 0ADA     		bge	.L20
 121:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       {
 122:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* clear int flag */
 123:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         _ClearEP_CTR_RX(EPindex);
 16758              		.loc 1 123 0
 16759 012e 1168     		ldr	r1, [r2, #0]
 16760 0130 40F68F7E 		movw	lr, #3983
 16761 0134 01EA0E00 		and	r0, r1, lr
 16762              	.LVL19:
 16763 0138 1060     		str	r0, [r2, #0]
 124:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 125:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* call OUT service function */
 126:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         (*pEpInt_OUT[EPindex-1])();
 16764              		.loc 1 126 0
 16765 013a 1C4A     		ldr	r2, .L38+36
 16766 013c 591E     		subs	r1, r3, #1
 16767 013e 52F82130 		ldr	r3, [r2, r1, lsl #2]
 16768              	.LVL20:
 16769 0142 9847     		blx	r3
 16770              	.LVL21:
 16771              	.L20:
 127:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 128:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       } /* if((wEPVal & EP_CTR_RX) */
 129:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 130:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       if ((wEPVal & EP_CTR_TX) != 0)
 16772              		.loc 1 130 0
 16773 0144 BDF806C0 		ldrh	ip, [sp, #6]
 16774 0148 5FEA0C62 		lsls	r2, ip, #24
 16775 014c 12D5     		bpl	.L24
 131:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       {
 132:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* clear int flag */
 133:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         _ClearEP_CTR_TX(EPindex);
 16776              		.loc 1 133 0
 16777 014e 3A78     		ldrb	r2, [r7, #0]	@ zero_extendqisi2
 16778 0150 48F60F7C 		movw	ip, #36623
 16779 0154 9100     		lsls	r1, r2, #2
 16780 0156 01F18040 		add	r0, r1, #1073741824
 16781 015a 00F5B84E 		add	lr, r0, #23552
 16782 015e DEF80030 		ldr	r3, [lr, #0]
 16783              	.LVL22:
 134:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 135:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         /* call IN service function */
 136:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         (*pEpInt_IN[EPindex-1])();
 16784              		.loc 1 136 0
 16785 0162 1348     		ldr	r0, .L38+40
 133:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         _ClearEP_CTR_TX(EPindex);
 16786              		.loc 1 133 0
 16787 0164 03EA0C01 		and	r1, r3, ip
 16788              		.loc 1 136 0
 16789 0168 013A     		subs	r2, r2, #1
 133:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****         _ClearEP_CTR_TX(EPindex);
 16790              		.loc 1 133 0
 16791 016a CEF80010 		str	r1, [lr, #0]
 16792              		.loc 1 136 0
 16793 016e 50F82230 		ldr	r3, [r0, r2, lsl #2]
 16794 0172 9847     		blx	r3
 16795              	.LVL23:
 16796              	.L24:
  46:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   while (((wIstr = _GetISTR()) & ISTR_CTR) != 0)
 16797              		.loc 1 46 0 discriminator 1
 16798 0174 D8F80030 		ldr	r3, [r8, #0]
 16799              	.LVL24:
 16800 0178 9AB2     		uxth	r2, r3
 16801 017a 1304     		lsls	r3, r2, #16
 16802 017c 3280     		strh	r2, [r6, #0]	@ movhi
 16803 017e 3FF549AF 		bmi	.L21
 16804              	.L1:
 137:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       } /* if((wEPVal & EP_CTR_TX) != 0) */
 138:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 139:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     }/* if(EPindex == 0) else */
 140:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 141:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   }/* while(...) */
 142:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** }
 16805              		.loc 1 142 0
 16806 0182 BDE8FC81 		pop	{r2, r3, r4, r5, r6, r7, r8, pc}
 16807              	.L39:
 16808 0186 00BF     		.align	2
 16809              	.L38:
 16810 0188 00000000 		.word	wIstr
 16811 018c 00000000 		.word	EPindex
 16812 0190 005C0040 		.word	1073765376
 16813 0194 00000000 		.word	SaveTState
 16814 0198 00000000 		.word	SaveRState
 16815 019c 00000000 		.word	In0_Process
 16816 01a0 00000000 		.word	Setup0_Process
 16817 01a4 00000000 		.word	Out0_Process
 16818 01a8 8080FFFF 		.word	-32640
 16819 01ac 00000000 		.word	pEpInt_OUT
 16820 01b0 00000000 		.word	pEpInt_IN
 16821 01b4 445C0040 		.word	1073765444
 16822              		.cfi_endproc
 16823              	.LFE29:
 16825              		.section	.text.CTR_HP,"ax",%progbits
 16826              		.align	1
 16827              		.global	CTR_HP
 16828              		.thumb
 16829              		.thumb_func
 16831              	CTR_HP:
 16832              	.LFB30:
 143:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 144:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** /*******************************************************************************
 145:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Function Name  : CTR_HP.
 146:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Description    : High Priority Endpoint Correct Transfer interrupt's service 
 147:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** *                  routine.
 148:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Input          : None.
 149:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Output         : None.
 150:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** * Return         : None.
 151:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** *******************************************************************************/
 152:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** void CTR_HP(void)
 153:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** {
 16833              		.loc 1 153 0
 16834              		.cfi_startproc
 16835              		@ args = 0, pretend = 0, frame = 0
 16836              		@ frame_needed = 0, uses_anonymous_args = 0
 16837              	.LVL25:
 16838 0000 70B5     		push	{r4, r5, r6, lr}
 16839              	.LCFI1:
 16840              		.cfi_def_cfa_offset 16
 16841              		.cfi_offset 14, -4
 16842              		.cfi_offset 6, -8
 16843              		.cfi_offset 5, -12
 16844              		.cfi_offset 4, -16
 154:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   uint32_t wEPVal = 0;
 155:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 156:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   while (((wIstr = _GetISTR()) & ISTR_CTR) != 0)
 16845              		.loc 1 156 0
 16846 0002 184D     		ldr	r5, .L49
 16847 0004 184C     		ldr	r4, .L49+4
 157:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   {
 158:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     _SetISTR((uint16_t)CLR_CTR); /* clear CTR flag */
 16848              		.loc 1 158 0
 16849 0006 47F6FF76 		movw	r6, #32767
 156:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   while (((wIstr = _GetISTR()) & ISTR_CTR) != 0)
 16850              		.loc 1 156 0
 16851 000a 24E0     		b	.L47
 16852              	.LVL26:
 16853              	.L44:
 16854              		.loc 1 158 0
 16855 000c 2E60     		str	r6, [r5, #0]
 159:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     /* extract highest priority endpoint number */
 160:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     EPindex = (uint8_t)(wIstr & ISTR_EP_ID);
 16856              		.loc 1 160 0
 16857 000e 2288     		ldrh	r2, [r4, #0]
 16858 0010 1649     		ldr	r1, .L49+8
 16859 0012 02F00F02 		and	r2, r2, #15
 16860              	.LVL27:
 161:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     /* process related endpoint register */
 162:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     wEPVal = _GetENDPOINT(EPindex);
 16861              		.loc 1 162 0
 16862 0016 9000     		lsls	r0, r2, #2
 16863              	.LVL28:
 16864 0018 00F18043 		add	r3, r0, #1073741824
 160:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     EPindex = (uint8_t)(wIstr & ISTR_EP_ID);
 16865              		.loc 1 160 0
 16866 001c 0A70     		strb	r2, [r1, #0]
 16867              		.loc 1 162 0
 16868 001e 03F5B843 		add	r3, r3, #23552
 16869 0022 1968     		ldr	r1, [r3, #0]
 16870 0024 89B2     		uxth	r1, r1
 16871              	.LVL29:
 163:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     if ((wEPVal & EP_CTR_RX) != 0)
 16872              		.loc 1 163 0
 16873 0026 0804     		lsls	r0, r1, #16
 16874 0028 08D5     		bpl	.L42
 164:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     {
 165:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* clear int flag */
 166:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       _ClearEP_CTR_RX(EPindex);
 16875              		.loc 1 166 0
 16876 002a 1968     		ldr	r1, [r3, #0]
 16877              	.LVL30:
 16878 002c 40F68F7C 		movw	ip, #3983
 16879 0030 01EA0C00 		and	r0, r1, ip
 16880 0034 1860     		str	r0, [r3, #0]
 167:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 168:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* call OUT service function */
 169:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       (*pEpInt_OUT[EPindex-1])();
 16881              		.loc 1 169 0
 16882 0036 013A     		subs	r2, r2, #1
 16883              	.LVL31:
 16884 0038 0D4B     		ldr	r3, .L49+12
 16885 003a 09E0     		b	.L48
 16886              	.LVL32:
 16887              	.L42:
 170:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 171:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     } /* if((wEPVal & EP_CTR_RX) */
 172:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     else if ((wEPVal & EP_CTR_TX) != 0)
 16888              		.loc 1 172 0
 16889 003c 0906     		lsls	r1, r1, #24
 16890              	.LVL33:
 16891 003e 0AD5     		bpl	.L47
 173:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     {
 174:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* clear int flag */
 175:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       _ClearEP_CTR_TX(EPindex);
 16892              		.loc 1 175 0
 16893 0040 1968     		ldr	r1, [r3, #0]
 16894 0042 48F60F7E 		movw	lr, #36623
 16895 0046 01EA0E00 		and	r0, r1, lr
 16896 004a 1860     		str	r0, [r3, #0]
 176:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 177:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       /* call IN service function */
 178:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****       (*pEpInt_IN[EPindex-1])();
 16897              		.loc 1 178 0
 16898 004c 094B     		ldr	r3, .L49+16
 16899 004e 013A     		subs	r2, r2, #1
 16900              	.LVL34:
 16901              	.L48:
 16902 0050 53F82230 		ldr	r3, [r3, r2, lsl #2]
 16903 0054 9847     		blx	r3
 16904              	.LVL35:
 16905              	.L47:
 156:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   while (((wIstr = _GetISTR()) & ISTR_CTR) != 0)
 16906              		.loc 1 156 0 discriminator 1
 16907 0056 2868     		ldr	r0, [r5, #0]
 16908 0058 82B2     		uxth	r2, r0
 16909              	.LVL36:
 16910 005a 1304     		lsls	r3, r2, #16
 16911 005c 2280     		strh	r2, [r4, #0]	@ movhi
 16912 005e D5D4     		bmi	.L44
 179:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 180:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 181:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****     } /* if((wEPVal & EP_CTR_TX) != 0) */
 182:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** 
 183:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c ****   }/* while(...) */
 184:../../../SDK_embedded/libs/stm32/STM32_USB_FS_Device_Driver/usb_int.c **** }
 16913              		.loc 1 184 0
 16914 0060 70BD     		pop	{r4, r5, r6, pc}
 16915              	.L50:
 16916 0062 00BF     		.align	2
 16917              	.L49:
 16918 0064 445C0040 		.word	1073765444
 16919 0068 00000000 		.word	wIstr
 16920 006c 00000000 		.word	EPindex
 16921 0070 00000000 		.word	pEpInt_OUT
 16922 0074 00000000 		.word	pEpInt_IN
 16923              		.cfi_endproc
 16924              	.LFE30:
 16926              		.comm	SaveTState,2,2
 16927              		.comm	SaveRState,2,2
 16928              		.text
 16929              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 usb_int.c
C:\DOCUME~1\Admin\LOCALS~1\Temp\cciCXRLp.s:16563  .text.CTR_LP:00000000 $t
C:\DOCUME~1\Admin\LOCALS~1\Temp\cciCXRLp.s:16568  .text.CTR_LP:00000000 CTR_LP
C:\DOCUME~1\Admin\LOCALS~1\Temp\cciCXRLp.s:16810  .text.CTR_LP:00000188 $d
                            *COM*:00000002 SaveTState
                            *COM*:00000002 SaveRState
C:\DOCUME~1\Admin\LOCALS~1\Temp\cciCXRLp.s:16826  .text.CTR_HP:00000000 $t
C:\DOCUME~1\Admin\LOCALS~1\Temp\cciCXRLp.s:16831  .text.CTR_HP:00000000 CTR_HP
C:\DOCUME~1\Admin\LOCALS~1\Temp\cciCXRLp.s:16918  .text.CTR_HP:00000064 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
wIstr
EPindex
In0_Process
Setup0_Process
Out0_Process
pEpInt_OUT
pEpInt_IN
